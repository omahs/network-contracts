<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>StakingManager | SubQuery Network API</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/network-contracts/assets/css/0.styles.aa64b011.css" as="style"><link rel="preload" href="/network-contracts/assets/js/app.87a047ab.js" as="script"><link rel="preload" href="/network-contracts/assets/js/2.27a40bc7.js" as="script"><link rel="preload" href="/network-contracts/assets/js/32.1790e3e4.js" as="script"><link rel="prefetch" href="/network-contracts/assets/js/10.dc2fb91c.js"><link rel="prefetch" href="/network-contracts/assets/js/11.089f3f28.js"><link rel="prefetch" href="/network-contracts/assets/js/12.1a2cee0f.js"><link rel="prefetch" href="/network-contracts/assets/js/13.65bbe297.js"><link rel="prefetch" href="/network-contracts/assets/js/14.ffe4e780.js"><link rel="prefetch" href="/network-contracts/assets/js/15.565d45f4.js"><link rel="prefetch" href="/network-contracts/assets/js/16.502a2abc.js"><link rel="prefetch" href="/network-contracts/assets/js/17.daa31d2a.js"><link rel="prefetch" href="/network-contracts/assets/js/18.2c831974.js"><link rel="prefetch" href="/network-contracts/assets/js/19.88a66e6d.js"><link rel="prefetch" href="/network-contracts/assets/js/20.19d92089.js"><link rel="prefetch" href="/network-contracts/assets/js/21.92efbd71.js"><link rel="prefetch" href="/network-contracts/assets/js/22.80800923.js"><link rel="prefetch" href="/network-contracts/assets/js/23.2ebcae78.js"><link rel="prefetch" href="/network-contracts/assets/js/24.80249bc3.js"><link rel="prefetch" href="/network-contracts/assets/js/25.3b934353.js"><link rel="prefetch" href="/network-contracts/assets/js/26.cfb06d9f.js"><link rel="prefetch" href="/network-contracts/assets/js/27.d0ed7b47.js"><link rel="prefetch" href="/network-contracts/assets/js/28.b37cf957.js"><link rel="prefetch" href="/network-contracts/assets/js/29.909e4505.js"><link rel="prefetch" href="/network-contracts/assets/js/3.dc631073.js"><link rel="prefetch" href="/network-contracts/assets/js/30.af6d54f3.js"><link rel="prefetch" href="/network-contracts/assets/js/31.75511620.js"><link rel="prefetch" href="/network-contracts/assets/js/33.7d895206.js"><link rel="prefetch" href="/network-contracts/assets/js/34.98332cb4.js"><link rel="prefetch" href="/network-contracts/assets/js/35.092db0d4.js"><link rel="prefetch" href="/network-contracts/assets/js/36.16c2737f.js"><link rel="prefetch" href="/network-contracts/assets/js/37.eb7412c9.js"><link rel="prefetch" href="/network-contracts/assets/js/38.254dafb8.js"><link rel="prefetch" href="/network-contracts/assets/js/39.6803e9a0.js"><link rel="prefetch" href="/network-contracts/assets/js/4.344717be.js"><link rel="prefetch" href="/network-contracts/assets/js/40.1c61e7d4.js"><link rel="prefetch" href="/network-contracts/assets/js/41.21676a98.js"><link rel="prefetch" href="/network-contracts/assets/js/42.280c4e20.js"><link rel="prefetch" href="/network-contracts/assets/js/43.118aface.js"><link rel="prefetch" href="/network-contracts/assets/js/44.de03f1d9.js"><link rel="prefetch" href="/network-contracts/assets/js/45.7ca3dbb3.js"><link rel="prefetch" href="/network-contracts/assets/js/46.cafa4c3e.js"><link rel="prefetch" href="/network-contracts/assets/js/47.f3cebf03.js"><link rel="prefetch" href="/network-contracts/assets/js/48.6b3b9785.js"><link rel="prefetch" href="/network-contracts/assets/js/49.77625728.js"><link rel="prefetch" href="/network-contracts/assets/js/5.be4723dc.js"><link rel="prefetch" href="/network-contracts/assets/js/50.97cb6565.js"><link rel="prefetch" href="/network-contracts/assets/js/51.8c4ea14d.js"><link rel="prefetch" href="/network-contracts/assets/js/6.c89030cc.js"><link rel="prefetch" href="/network-contracts/assets/js/7.4680987c.js"><link rel="prefetch" href="/network-contracts/assets/js/8.0940ac83.js"><link rel="prefetch" href="/network-contracts/assets/js/9.8f7e1582.js">
    <link rel="stylesheet" href="/network-contracts/assets/css/0.styles.aa64b011.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/network-contracts/" class="home-link router-link-active"><!----> <span class="site-name">SubQuery Network API</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="stakingmanager"><a href="#stakingmanager" class="header-anchor">#</a> StakingManager</h2> <h3 id="settings"><a href="#settings" class="header-anchor">#</a> settings</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> settings
</code></pre></div><p>Initialize this contract.</p> <h3 id="initialize"><a href="#initialize" class="header-anchor">#</a> initialize</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> _settings<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setsettings"><a href="#setsettings" class="header-anchor">#</a> setSettings</h3> <p>Update setting state.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setSettings</span><span class="token punctuation">(</span><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> _settings<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>_settings</td> <td>contract ISettings</td> <td>ISettings contract</td></tr></tbody></table> <p>Indexers stake to themself.
The caller can be either an existing indexer or IndexerRegistry contract. The staking change will be applied immediately if the caller is IndexerRegistry.</p> <h3 id="stake"><a href="#stake" class="header-anchor">#</a> stake</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">stake</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>Delegator stake to Indexer, Indexer cannot call this.</p> <h3 id="delegate"><a href="#delegate" class="header-anchor">#</a> delegate</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">delegate</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>Unstake Indexer's self delegation. When this is called by indexer,
the existential amount should be greater than minimum staking amount
If the caller is from IndexerRegistry, this function will unstake all the staking token for the indexer.</p> <h3 id="unstake"><a href="#unstake" class="header-anchor">#</a> unstake</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">unstake</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>Request a unbond from an indexer for specific amount.</p> <h3 id="undelegate"><a href="#undelegate" class="header-anchor">#</a> undelegate</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">undelegate</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>Allow delegator transfer their delegation from an indexer to another.
Indexer's self delegations are not allow to redelegate.</p> <h3 id="redelegate"><a href="#redelegate" class="header-anchor">#</a> redelegate</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">redelegate</span><span class="token punctuation">(</span><span class="token builtin">address</span> from_indexer<span class="token punctuation">,</span> <span class="token builtin">address</span> to_indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="cancelunbonding"><a href="#cancelunbonding" class="header-anchor">#</a> cancelUnbonding</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">cancelUnbonding</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> unbondReqId<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>Withdraw max 10 mature unbond requests from an indexer.
Each withdraw need to exceed lockPeriod.</p> <h3 id="widthdraw"><a href="#widthdraw" class="header-anchor">#</a> widthdraw</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">widthdraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="slashindexer"><a href="#slashindexer" class="header-anchor">#</a> slashIndexer</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">slashIndexer</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="gettotalstakingamount"><a href="#gettotalstakingamount" class="header-anchor">#</a> getTotalStakingAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">getTotalStakingAmount</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">uint256</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getafterdelegationamount"><a href="#getafterdelegationamount" class="header-anchor">#</a> getAfterDelegationAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">getAfterDelegationAmount</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">address</span> _indexer<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">uint256</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getunbondingamounts"><a href="#getunbondingamounts" class="header-anchor">#</a> getUnbondingAmounts</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">getUnbondingAmounts</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">UnbondAmount</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="getslashableamount"><a href="#getslashableamount" class="header-anchor">#</a> getSlashableAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">getSlashableAmount</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">uint256</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/network-contracts/assets/js/app.87a047ab.js" defer></script><script src="/network-contracts/assets/js/2.27a40bc7.js" defer></script><script src="/network-contracts/assets/js/32.1790e3e4.js" defer></script>
  </body>
</html>
