<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Staking | SubQuery Network API</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/network-contracts/assets/css/0.styles.aa64b011.css" as="style"><link rel="preload" href="/network-contracts/assets/js/app.87a047ab.js" as="script"><link rel="preload" href="/network-contracts/assets/js/2.27a40bc7.js" as="script"><link rel="preload" href="/network-contracts/assets/js/31.75511620.js" as="script"><link rel="prefetch" href="/network-contracts/assets/js/10.dc2fb91c.js"><link rel="prefetch" href="/network-contracts/assets/js/11.089f3f28.js"><link rel="prefetch" href="/network-contracts/assets/js/12.1a2cee0f.js"><link rel="prefetch" href="/network-contracts/assets/js/13.65bbe297.js"><link rel="prefetch" href="/network-contracts/assets/js/14.ffe4e780.js"><link rel="prefetch" href="/network-contracts/assets/js/15.565d45f4.js"><link rel="prefetch" href="/network-contracts/assets/js/16.502a2abc.js"><link rel="prefetch" href="/network-contracts/assets/js/17.daa31d2a.js"><link rel="prefetch" href="/network-contracts/assets/js/18.2c831974.js"><link rel="prefetch" href="/network-contracts/assets/js/19.88a66e6d.js"><link rel="prefetch" href="/network-contracts/assets/js/20.19d92089.js"><link rel="prefetch" href="/network-contracts/assets/js/21.92efbd71.js"><link rel="prefetch" href="/network-contracts/assets/js/22.80800923.js"><link rel="prefetch" href="/network-contracts/assets/js/23.2ebcae78.js"><link rel="prefetch" href="/network-contracts/assets/js/24.80249bc3.js"><link rel="prefetch" href="/network-contracts/assets/js/25.3b934353.js"><link rel="prefetch" href="/network-contracts/assets/js/26.cfb06d9f.js"><link rel="prefetch" href="/network-contracts/assets/js/27.d0ed7b47.js"><link rel="prefetch" href="/network-contracts/assets/js/28.b37cf957.js"><link rel="prefetch" href="/network-contracts/assets/js/29.909e4505.js"><link rel="prefetch" href="/network-contracts/assets/js/3.dc631073.js"><link rel="prefetch" href="/network-contracts/assets/js/30.af6d54f3.js"><link rel="prefetch" href="/network-contracts/assets/js/32.1790e3e4.js"><link rel="prefetch" href="/network-contracts/assets/js/33.7d895206.js"><link rel="prefetch" href="/network-contracts/assets/js/34.98332cb4.js"><link rel="prefetch" href="/network-contracts/assets/js/35.092db0d4.js"><link rel="prefetch" href="/network-contracts/assets/js/36.16c2737f.js"><link rel="prefetch" href="/network-contracts/assets/js/37.eb7412c9.js"><link rel="prefetch" href="/network-contracts/assets/js/38.254dafb8.js"><link rel="prefetch" href="/network-contracts/assets/js/39.6803e9a0.js"><link rel="prefetch" href="/network-contracts/assets/js/4.344717be.js"><link rel="prefetch" href="/network-contracts/assets/js/40.1c61e7d4.js"><link rel="prefetch" href="/network-contracts/assets/js/41.21676a98.js"><link rel="prefetch" href="/network-contracts/assets/js/42.280c4e20.js"><link rel="prefetch" href="/network-contracts/assets/js/43.118aface.js"><link rel="prefetch" href="/network-contracts/assets/js/44.de03f1d9.js"><link rel="prefetch" href="/network-contracts/assets/js/45.7ca3dbb3.js"><link rel="prefetch" href="/network-contracts/assets/js/46.cafa4c3e.js"><link rel="prefetch" href="/network-contracts/assets/js/47.f3cebf03.js"><link rel="prefetch" href="/network-contracts/assets/js/48.6b3b9785.js"><link rel="prefetch" href="/network-contracts/assets/js/49.77625728.js"><link rel="prefetch" href="/network-contracts/assets/js/5.be4723dc.js"><link rel="prefetch" href="/network-contracts/assets/js/50.97cb6565.js"><link rel="prefetch" href="/network-contracts/assets/js/51.8c4ea14d.js"><link rel="prefetch" href="/network-contracts/assets/js/6.c89030cc.js"><link rel="prefetch" href="/network-contracts/assets/js/7.4680987c.js"><link rel="prefetch" href="/network-contracts/assets/js/8.0940ac83.js"><link rel="prefetch" href="/network-contracts/assets/js/9.8f7e1582.js">
    <link rel="stylesheet" href="/network-contracts/assets/css/0.styles.aa64b011.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/network-contracts/" class="home-link router-link-active"><!----> <span class="site-name">SubQuery Network API</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="staking"><a href="#staking" class="header-anchor">#</a> Staking</h2> <h3 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h3> <p>The Staking contract hold and track the changes of all staked SQT Token, It provides entry for the indexers and delegators to
stake/unstake, delegate/undelegate to available Indexers and withdraw their SQT Token. It also track the changes of the commission rate of each
Indexer and make these changes always applied at two Eras later. We design this to allow time for the delegators
to consider their delegation when an Indxer changes the commission rate.</p> <h2 id="terminology"><a href="#terminology" class="header-anchor">#</a> Terminology</h2> <p>stake -- Indexers must stake SQT Token to themself and not less than the minimumStakingAmount we set in IndexerRegistry contract
delegate -- Delegators can delegate SQT Token to any indexer to share Indexerâ€˜s Rewards.
total staked amount -- indexer's stake amount + total delegate amount.
The Indexer staked amount effects its max acceptable delegation amount.
The total staked amount of an Indexer effects the maximum reward it can earn in an Era.</p> <h2 id="detail"><a href="#detail" class="header-anchor">#</a> Detail</h2> <p>Since The change of stake or delegate amount and commission rate affects the rewards distribution. So when
users make these changes, we call onStakeChange()/onICRChnage() from rewardsStaking/rewardsPool contract to notify it to
apply these changes for future distribution.
In our design rewardsStaking contract apply the first stake change and commission rate change immediately when
an Indexer make registration. Later on all the stake change apply at next Era, commission rate apply at two Eras later.</p> <p>Since Indexers need to stake SQT Token at registration and the staked amount effects its max acceptable delegation amount.
So the implementation of stake() is diffrernt with delegate().</p> <ul><li>stake() is for Indexers to stake on themself. There has no stake amount limitation.</li> <li>delegate() is for delegators to delegate on an indexer and need to consider the indexer's delegation limitation.</li></ul> <p>Also in this contarct we has two entries to set commission rate for indexers.
setInitialCommissionRate() is called by IndexrRegister contract when indexer register, this change need to take effect immediately.
setCommissionRate() is called by Indexers to set their commission rate, and will be take effect after two Eras.</p> <p>Since Indexer must keep the minimumStakingAmount, so the implementation of unstake() also different with undelegate().</p> <ul><li>unstake() is for Indexers to unstake their staking token. An indexer can not unstake all the token unless the indexer unregister from the network.
Indexer need to keep the minimumStakingAmount staked on itself when it unstake.</li> <li>undelegate() is for delegator to undelegate from an Indexer can be called by Delegators.
Delegators can undelegate all their delegated tokens at one time.
Tokens will transfer to user's account after the lockPeriod when users apply withdraw.
Every widthdraw will cost a fix rate fees(unbondFeeRate), and these fees will be burned.</li></ul> <h3 id="settings"><a href="#settings" class="header-anchor">#</a> settings</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> settings
</code></pre></div><h3 id="indexerleveragelimit"><a href="#indexerleveragelimit" class="header-anchor">#</a> indexerLeverageLimit</h3> <p>The ratio of total stake amount to indexer self stake amount to limit the
total delegation amount. Initial value is set to 10, which means the total
stake amount cannot exceed 10 times the indexer self stake amount.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">uint256</span> indexerLeverageLimit
</code></pre></div><h3 id="unbondfeerate"><a href="#unbondfeerate" class="header-anchor">#</a> unbondFeeRate</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">uint256</span> unbondFeeRate
</code></pre></div><h3 id="lockperiod"><a href="#lockperiod" class="header-anchor">#</a> lockPeriod</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">uint256</span> lockPeriod
</code></pre></div><h3 id="indexerlength"><a href="#indexerlength" class="header-anchor">#</a> indexerLength</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">uint256</span> indexerLength
</code></pre></div><h3 id="maxunbondingrequest"><a href="#maxunbondingrequest" class="header-anchor">#</a> maxUnbondingRequest</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">uint256</span> maxUnbondingRequest
</code></pre></div><h3 id="indexers"><a href="#indexers" class="header-anchor">#</a> indexers</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span> indexers
</code></pre></div><h3 id="indexerno"><a href="#indexerno" class="header-anchor">#</a> indexerNo</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> indexerNo
</code></pre></div><h3 id="totalstakingamount"><a href="#totalstakingamount" class="header-anchor">#</a> totalStakingAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">struct</span> <span class="token class-name">StakingAmount</span><span class="token punctuation">)</span> totalStakingAmount
</code></pre></div><h3 id="unbondingamount"><a href="#unbondingamount" class="header-anchor">#</a> unbondingAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> <span class="token operator">=&gt;</span> <span class="token keyword">struct</span> <span class="token class-name">UnbondAmount</span><span class="token punctuation">)</span><span class="token punctuation">)</span> unbondingAmount
</code></pre></div><h3 id="unbondinglength"><a href="#unbondinglength" class="header-anchor">#</a> unbondingLength</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> unbondingLength
</code></pre></div><h3 id="withdrawnlength"><a href="#withdrawnlength" class="header-anchor">#</a> withdrawnLength</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> withdrawnLength
</code></pre></div><h3 id="delegation"><a href="#delegation" class="header-anchor">#</a> delegation</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">struct</span> <span class="token class-name">StakingAmount</span><span class="token punctuation">)</span><span class="token punctuation">)</span> delegation
</code></pre></div><h3 id="lockedamount"><a href="#lockedamount" class="header-anchor">#</a> lockedAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> lockedAmount
</code></pre></div><h3 id="stakingindexers"><a href="#stakingindexers" class="header-anchor">#</a> stakingIndexers</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span><span class="token punctuation">)</span> stakingIndexers
</code></pre></div><h3 id="stakingindexernos"><a href="#stakingindexernos" class="header-anchor">#</a> stakingIndexerNos</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span><span class="token punctuation">)</span> stakingIndexerNos
</code></pre></div><h3 id="stakingindexerlengths"><a href="#stakingindexerlengths" class="header-anchor">#</a> stakingIndexerLengths</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> stakingIndexerLengths
</code></pre></div><p>Emitted when stake to an Indexer.</p> <h3 id="delegationadded"><a href="#delegationadded" class="header-anchor">#</a> DelegationAdded</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">DelegationAdded</span><span class="token punctuation">(</span><span class="token builtin">address</span> source<span class="token punctuation">,</span> <span class="token builtin">address</span> indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span>
</code></pre></div><p>Emitted when unstake to an Indexer.</p> <h3 id="delegationremoved"><a href="#delegationremoved" class="header-anchor">#</a> DelegationRemoved</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">DelegationRemoved</span><span class="token punctuation">(</span><span class="token builtin">address</span> source<span class="token punctuation">,</span> <span class="token builtin">address</span> indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span>
</code></pre></div><p>Emitted when request unbond.</p> <h3 id="unbondrequested"><a href="#unbondrequested" class="header-anchor">#</a> UnbondRequested</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">UnbondRequested</span><span class="token punctuation">(</span><span class="token builtin">address</span> source<span class="token punctuation">,</span> <span class="token builtin">address</span> indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">uint256</span> index<span class="token punctuation">,</span> <span class="token keyword">enum</span> <span class="token class-name">UnbondType</span> _type<span class="token punctuation">)</span>
</code></pre></div><p>Emitted when request withdraw.</p> <h3 id="unbondwithdrawn"><a href="#unbondwithdrawn" class="header-anchor">#</a> UnbondWithdrawn</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">UnbondWithdrawn</span><span class="token punctuation">(</span><span class="token builtin">address</span> source<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">uint256</span> fee<span class="token punctuation">,</span> <span class="token builtin">uint256</span> index<span class="token punctuation">)</span>
</code></pre></div><p>Emitted when delegtor cancel unbond request.</p> <h3 id="unbondcancelled"><a href="#unbondcancelled" class="header-anchor">#</a> UnbondCancelled</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">UnbondCancelled</span><span class="token punctuation">(</span><span class="token builtin">address</span> source<span class="token punctuation">,</span> <span class="token builtin">address</span> indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">uint256</span> index<span class="token punctuation">)</span>
</code></pre></div><h3 id="onlystakingmanager"><a href="#onlystakingmanager" class="header-anchor">#</a> onlyStakingManager</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">modifier</span> <span class="token function">onlyStakingManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Initialize this contract.</p> <h3 id="initialize"><a href="#initialize" class="header-anchor">#</a> initialize</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> _settings<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _lockPeriod<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _unbondFeeRate<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setsettings"><a href="#setsettings" class="header-anchor">#</a> setSettings</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setSettings</span><span class="token punctuation">(</span><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> _settings<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setlockperiod"><a href="#setlockperiod" class="header-anchor">#</a> setLockPeriod</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setLockPeriod</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _lockPeriod<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setindexerleveragelimit"><a href="#setindexerleveragelimit" class="header-anchor">#</a> setIndexerLeverageLimit</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setIndexerLeverageLimit</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _indexerLeverageLimit<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setunbondfeeratebp"><a href="#setunbondfeeratebp" class="header-anchor">#</a> setUnbondFeeRateBP</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setUnbondFeeRateBP</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _unbondFeeRate<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setmaxunbondingrequest"><a href="#setmaxunbondingrequest" class="header-anchor">#</a> setMaxUnbondingRequest</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setMaxUnbondingRequest</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> maxNum<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>when Era update if valueAfter is the effective value, swap it to valueAt,
so later on we can update valueAfter without change current value
require it idempotent.</p> <h3 id="reflecteraupdate"><a href="#reflecteraupdate" class="header-anchor">#</a> reflectEraUpdate</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">reflectEraUpdate</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">address</span> _indexer<span class="token punctuation">)</span> <span class="token keyword">public</span>
</code></pre></div><h3 id="reflectstakingamount"><a href="#reflectstakingamount" class="header-anchor">#</a> _reflectStakingAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">_reflectStakingAmount</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> eraNumber<span class="token punctuation">,</span> <span class="token keyword">struct</span> <span class="token class-name">StakingAmount</span> stakeAmount<span class="token punctuation">)</span> <span class="token keyword">private</span>
</code></pre></div><h3 id="checkdelegatelimitation"><a href="#checkdelegatelimitation" class="header-anchor">#</a> checkDelegateLimitation</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">checkDelegateLimitation</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span>
</code></pre></div><h3 id="addindexer"><a href="#addindexer" class="header-anchor">#</a> addIndexer</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">addIndexer</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="removeindexer"><a href="#removeindexer" class="header-anchor">#</a> removeIndexer</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">removeIndexer</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="removeunbondingamount"><a href="#removeunbondingamount" class="header-anchor">#</a> removeUnbondingAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">removeUnbondingAmount</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _unbondReqId<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="adddelegation"><a href="#adddelegation" class="header-anchor">#</a> addDelegation</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">addDelegation</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="delegatetoindexer"><a href="#delegatetoindexer" class="header-anchor">#</a> delegateToIndexer</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">delegateToIndexer</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="removedelegation"><a href="#removedelegation" class="header-anchor">#</a> removeDelegation</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">removeDelegation</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>When the delegation change nodify rewardsStaking to deal with the change.</p> <h3 id="ondelegationchange"><a href="#ondelegationchange" class="header-anchor">#</a> _onDelegationChange</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">_onDelegationChange</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">address</span> _indexer<span class="token punctuation">)</span> <span class="token keyword">internal</span>
</code></pre></div><h3 id="startunbond"><a href="#startunbond" class="header-anchor">#</a> startUnbond</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">startUnbond</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">,</span> <span class="token keyword">enum</span> <span class="token class-name">UnbondType</span> _type<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>Withdraw a single request.
burn the withdrawn fees and transfer the rest to delegator.</p> <h3 id="withdrawarequest"><a href="#withdrawarequest" class="header-anchor">#</a> withdrawARequest</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">withdrawARequest</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _index<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="slashindexer"><a href="#slashindexer" class="header-anchor">#</a> slashIndexer</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">slashIndexer</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="unbondcommission"><a href="#unbondcommission" class="header-anchor">#</a> unbondCommission</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">unbondCommission</span><span class="token punctuation">(</span><span class="token builtin">address</span> _indexer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="isemptydelegation"><a href="#isemptydelegation" class="header-anchor">#</a> isEmptyDelegation</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">isEmptyDelegation</span><span class="token punctuation">(</span><span class="token builtin">address</span> _source<span class="token punctuation">,</span> <span class="token builtin">address</span> _indexer<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/network-contracts/assets/js/app.87a047ab.js" defer></script><script src="/network-contracts/assets/js/2.27a40bc7.js" defer></script><script src="/network-contracts/assets/js/31.75511620.js" defer></script>
  </body>
</html>
