<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RootChainManager | SubQuery Network API</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/network-contracts/assets/css/0.styles.aa64b011.css" as="style"><link rel="preload" href="/network-contracts/assets/js/app.87a047ab.js" as="script"><link rel="preload" href="/network-contracts/assets/js/2.27a40bc7.js" as="script"><link rel="preload" href="/network-contracts/assets/js/38.254dafb8.js" as="script"><link rel="prefetch" href="/network-contracts/assets/js/10.dc2fb91c.js"><link rel="prefetch" href="/network-contracts/assets/js/11.089f3f28.js"><link rel="prefetch" href="/network-contracts/assets/js/12.1a2cee0f.js"><link rel="prefetch" href="/network-contracts/assets/js/13.65bbe297.js"><link rel="prefetch" href="/network-contracts/assets/js/14.ffe4e780.js"><link rel="prefetch" href="/network-contracts/assets/js/15.565d45f4.js"><link rel="prefetch" href="/network-contracts/assets/js/16.502a2abc.js"><link rel="prefetch" href="/network-contracts/assets/js/17.daa31d2a.js"><link rel="prefetch" href="/network-contracts/assets/js/18.2c831974.js"><link rel="prefetch" href="/network-contracts/assets/js/19.88a66e6d.js"><link rel="prefetch" href="/network-contracts/assets/js/20.19d92089.js"><link rel="prefetch" href="/network-contracts/assets/js/21.92efbd71.js"><link rel="prefetch" href="/network-contracts/assets/js/22.80800923.js"><link rel="prefetch" href="/network-contracts/assets/js/23.2ebcae78.js"><link rel="prefetch" href="/network-contracts/assets/js/24.80249bc3.js"><link rel="prefetch" href="/network-contracts/assets/js/25.3b934353.js"><link rel="prefetch" href="/network-contracts/assets/js/26.cfb06d9f.js"><link rel="prefetch" href="/network-contracts/assets/js/27.d0ed7b47.js"><link rel="prefetch" href="/network-contracts/assets/js/28.b37cf957.js"><link rel="prefetch" href="/network-contracts/assets/js/29.909e4505.js"><link rel="prefetch" href="/network-contracts/assets/js/3.dc631073.js"><link rel="prefetch" href="/network-contracts/assets/js/30.af6d54f3.js"><link rel="prefetch" href="/network-contracts/assets/js/31.75511620.js"><link rel="prefetch" href="/network-contracts/assets/js/32.1790e3e4.js"><link rel="prefetch" href="/network-contracts/assets/js/33.7d895206.js"><link rel="prefetch" href="/network-contracts/assets/js/34.98332cb4.js"><link rel="prefetch" href="/network-contracts/assets/js/35.092db0d4.js"><link rel="prefetch" href="/network-contracts/assets/js/36.16c2737f.js"><link rel="prefetch" href="/network-contracts/assets/js/37.eb7412c9.js"><link rel="prefetch" href="/network-contracts/assets/js/39.6803e9a0.js"><link rel="prefetch" href="/network-contracts/assets/js/4.344717be.js"><link rel="prefetch" href="/network-contracts/assets/js/40.1c61e7d4.js"><link rel="prefetch" href="/network-contracts/assets/js/41.21676a98.js"><link rel="prefetch" href="/network-contracts/assets/js/42.280c4e20.js"><link rel="prefetch" href="/network-contracts/assets/js/43.118aface.js"><link rel="prefetch" href="/network-contracts/assets/js/44.de03f1d9.js"><link rel="prefetch" href="/network-contracts/assets/js/45.7ca3dbb3.js"><link rel="prefetch" href="/network-contracts/assets/js/46.cafa4c3e.js"><link rel="prefetch" href="/network-contracts/assets/js/47.f3cebf03.js"><link rel="prefetch" href="/network-contracts/assets/js/48.6b3b9785.js"><link rel="prefetch" href="/network-contracts/assets/js/49.77625728.js"><link rel="prefetch" href="/network-contracts/assets/js/5.be4723dc.js"><link rel="prefetch" href="/network-contracts/assets/js/50.97cb6565.js"><link rel="prefetch" href="/network-contracts/assets/js/51.8c4ea14d.js"><link rel="prefetch" href="/network-contracts/assets/js/6.c89030cc.js"><link rel="prefetch" href="/network-contracts/assets/js/7.4680987c.js"><link rel="prefetch" href="/network-contracts/assets/js/8.0940ac83.js"><link rel="prefetch" href="/network-contracts/assets/js/9.8f7e1582.js">
    <link rel="stylesheet" href="/network-contracts/assets/css/0.styles.aa64b011.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/network-contracts/" class="home-link router-link-active"><!----> <span class="site-name">SubQuery Network API</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="rootchainmanager"><a href="#rootchainmanager" class="header-anchor">#</a> RootChainManager</h2> <h3 id="ether-address"><a href="#ether-address" class="header-anchor">#</a> ETHER_ADDRESS</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">address</span> ETHER_ADDRESS
</code></pre></div><h3 id="typetopredicate"><a href="#typetopredicate" class="header-anchor">#</a> typeToPredicate</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span> typeToPredicate
</code></pre></div><h3 id="roottochildtoken"><a href="#roottochildtoken" class="header-anchor">#</a> rootToChildToken</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span> rootToChildToken
</code></pre></div><h3 id="childtoroottoken"><a href="#childtoroottoken" class="header-anchor">#</a> childToRootToken</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span> childToRootToken
</code></pre></div><h3 id="tokentotype"><a href="#tokentotype" class="header-anchor">#</a> tokenToType</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">bytes32</span><span class="token punctuation">)</span> tokenToType
</code></pre></div><h3 id="processedexits"><a href="#processedexits" class="header-anchor">#</a> processedExits</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> <span class="token operator">=&gt;</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> processedExits
</code></pre></div><h3 id="exitbenificiary"><a href="#exitbenificiary" class="header-anchor">#</a> exitBenificiary</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">address</span> exitBenificiary
</code></pre></div><h3 id="bridgedamount"><a href="#bridgedamount" class="header-anchor">#</a> bridgedAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">uint256</span> bridgedAmount
</code></pre></div><h3 id="roottoken"><a href="#roottoken" class="header-anchor">#</a> rootToken</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">address</span> rootToken
</code></pre></div><p>meant to be called once immediately after deployment</p> <h3 id="initialize"><a href="#initialize" class="header-anchor">#</a> initialize</h3> <p>Initialize the contract after it has been proxified</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setexitbenificiary"><a href="#setexitbenificiary" class="header-anchor">#</a> setExitBenificiary</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setExitBenificiary</span><span class="token punctuation">(</span><span class="token builtin">address</span> _benificiary<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setbridgedamount"><a href="#setbridgedamount" class="header-anchor">#</a> setBridgedAmount</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setBridgedAmount</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _bridgedAmount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="setroottoken"><a href="#setroottoken" class="header-anchor">#</a> setRootToken</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setRootToken</span><span class="token punctuation">(</span><span class="token builtin">address</span> _rootToken<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><p>A predicate is a contract responsible to process the token specific logic while locking or exiting tokens</p> <h3 id="registerpredicate"><a href="#registerpredicate" class="header-anchor">#</a> registerPredicate</h3> <p>Register a token predicate address against its type, callable only by mappers</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">registerPredicate</span><span class="token punctuation">(</span><span class="token builtin">bytes32</span> tokenType<span class="token punctuation">,</span> <span class="token builtin">address</span> predicateAddress<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>tokenType</td> <td>bytes32</td> <td>bytes32 unique identifier for the token type</td></tr> <tr><td>predicateAddress</td> <td>address</td> <td>address of token predicate address</td></tr></tbody></table> <h3 id="maptoken"><a href="#maptoken" class="header-anchor">#</a> mapToken</h3> <p>Map a token to enable its movement via the PoS Portal, callable only by mappers</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">mapToken</span><span class="token punctuation">(</span><span class="token builtin">address</span> rootToken<span class="token punctuation">,</span> <span class="token builtin">address</span> childToken<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> tokenType<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>rootToken</td> <td>address</td> <td>address of token on root chain</td></tr> <tr><td>childToken</td> <td>address</td> <td>address of token on child chain</td></tr> <tr><td>tokenType</td> <td>bytes32</td> <td>bytes32 unique identifier for the token type</td></tr></tbody></table> <h3 id="cleanmaptoken"><a href="#cleanmaptoken" class="header-anchor">#</a> cleanMapToken</h3> <p>Clean polluted token mapping</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">cleanMapToken</span><span class="token punctuation">(</span><span class="token builtin">address</span> rootToken<span class="token punctuation">,</span> <span class="token builtin">address</span> childToken<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>rootToken</td> <td>address</td> <td>address of token on root chain. Since rename token was introduced later stage, clean method is used to clean pollulated mapping</td></tr> <tr><td>childToken</td> <td>address</td> <td></td></tr></tbody></table> <h3 id="remaptoken"><a href="#remaptoken" class="header-anchor">#</a> remapToken</h3> <p>Remap a token that has already been mapped, properly cleans up old mapping
Callable only by mappers</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">remapToken</span><span class="token punctuation">(</span><span class="token builtin">address</span> rootToken<span class="token punctuation">,</span> <span class="token builtin">address</span> childToken<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> tokenType<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>rootToken</td> <td>address</td> <td>address of token on root chain</td></tr> <tr><td>childToken</td> <td>address</td> <td>address of token on child chain</td></tr> <tr><td>tokenType</td> <td>bytes32</td> <td>bytes32 unique identifier for the token type</td></tr></tbody></table> <h3 id="maptoken-2"><a href="#maptoken-2" class="header-anchor">#</a> _mapToken</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">_mapToken</span><span class="token punctuation">(</span><span class="token builtin">address</span> rootToken<span class="token punctuation">,</span> <span class="token builtin">address</span> childToken<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> tokenType<span class="token punctuation">)</span> <span class="token keyword">private</span>
</code></pre></div><h3 id="depositetherfor"><a href="#depositetherfor" class="header-anchor">#</a> depositEtherFor</h3> <p>Move ether from root to child chain, accepts ether transfer
Keep in mind this ether cannot be used to pay gas on child chain
Use Matic tokens deposited using plasma mechanism for that</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">depositEtherFor</span><span class="token punctuation">(</span><span class="token builtin">address</span> user<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">payable</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>user</td> <td>address</td> <td>address of account that should receive WETH on child chain</td></tr></tbody></table> <p>This mechanism supports arbitrary tokens as long as its predicate has been registered and the token is mapped</p> <h3 id="depositfor"><a href="#depositfor" class="header-anchor">#</a> depositFor</h3> <p>Move tokens from root to child chain</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">depositFor</span><span class="token punctuation">(</span><span class="token builtin">address</span> user<span class="token punctuation">,</span> <span class="token builtin">address</span> rootToken<span class="token punctuation">,</span> <span class="token builtin">bytes</span> depositData<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>user</td> <td>address</td> <td>address of account that should receive this deposit on child chain</td></tr> <tr><td>rootToken</td> <td>address</td> <td>address of token that is being deposited</td></tr> <tr><td>depositData</td> <td>bytes</td> <td>bytes data that is sent to predicate and child token contracts to handle deposit</td></tr></tbody></table> <h3 id="depositetherfor-2"><a href="#depositetherfor-2" class="header-anchor">#</a> _depositEtherFor</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">_depositEtherFor</span><span class="token punctuation">(</span><span class="token builtin">address</span> user<span class="token punctuation">)</span> <span class="token keyword">private</span>
</code></pre></div><h3 id="depositfor-2"><a href="#depositfor-2" class="header-anchor">#</a> _depositFor</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">_depositFor</span><span class="token punctuation">(</span><span class="token builtin">address</span> user<span class="token punctuation">,</span> <span class="token builtin">address</span> rootToken<span class="token punctuation">,</span> <span class="token builtin">bytes</span> depositData<span class="token punctuation">)</span> <span class="token keyword">private</span>
</code></pre></div><p>This function verifies if the transaction actually happened on child chain
the transaction log is then sent to token predicate to handle it accordingly</p> <h3 id="exit"><a href="#exit" class="header-anchor">#</a> exit</h3> <p>exit tokens by providing proof</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token builtin">bytes</span> inputData<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/network-contracts/assets/js/app.87a047ab.js" defer></script><script src="/network-contracts/assets/js/2.27a40bc7.js" defer></script><script src="/network-contracts/assets/js/38.254dafb8.js" defer></script>
  </body>
</html>
