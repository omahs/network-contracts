<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ConsumerHost | SubQuery Network API</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/network-contracts/assets/css/0.styles.aa64b011.css" as="style"><link rel="preload" href="/network-contracts/assets/js/app.87a047ab.js" as="script"><link rel="preload" href="/network-contracts/assets/js/2.27a40bc7.js" as="script"><link rel="preload" href="/network-contracts/assets/js/13.65bbe297.js" as="script"><link rel="prefetch" href="/network-contracts/assets/js/10.dc2fb91c.js"><link rel="prefetch" href="/network-contracts/assets/js/11.089f3f28.js"><link rel="prefetch" href="/network-contracts/assets/js/12.1a2cee0f.js"><link rel="prefetch" href="/network-contracts/assets/js/14.ffe4e780.js"><link rel="prefetch" href="/network-contracts/assets/js/15.565d45f4.js"><link rel="prefetch" href="/network-contracts/assets/js/16.502a2abc.js"><link rel="prefetch" href="/network-contracts/assets/js/17.daa31d2a.js"><link rel="prefetch" href="/network-contracts/assets/js/18.2c831974.js"><link rel="prefetch" href="/network-contracts/assets/js/19.88a66e6d.js"><link rel="prefetch" href="/network-contracts/assets/js/20.19d92089.js"><link rel="prefetch" href="/network-contracts/assets/js/21.92efbd71.js"><link rel="prefetch" href="/network-contracts/assets/js/22.80800923.js"><link rel="prefetch" href="/network-contracts/assets/js/23.2ebcae78.js"><link rel="prefetch" href="/network-contracts/assets/js/24.80249bc3.js"><link rel="prefetch" href="/network-contracts/assets/js/25.3b934353.js"><link rel="prefetch" href="/network-contracts/assets/js/26.cfb06d9f.js"><link rel="prefetch" href="/network-contracts/assets/js/27.d0ed7b47.js"><link rel="prefetch" href="/network-contracts/assets/js/28.b37cf957.js"><link rel="prefetch" href="/network-contracts/assets/js/29.909e4505.js"><link rel="prefetch" href="/network-contracts/assets/js/3.dc631073.js"><link rel="prefetch" href="/network-contracts/assets/js/30.af6d54f3.js"><link rel="prefetch" href="/network-contracts/assets/js/31.75511620.js"><link rel="prefetch" href="/network-contracts/assets/js/32.1790e3e4.js"><link rel="prefetch" href="/network-contracts/assets/js/33.7d895206.js"><link rel="prefetch" href="/network-contracts/assets/js/34.98332cb4.js"><link rel="prefetch" href="/network-contracts/assets/js/35.092db0d4.js"><link rel="prefetch" href="/network-contracts/assets/js/36.16c2737f.js"><link rel="prefetch" href="/network-contracts/assets/js/37.eb7412c9.js"><link rel="prefetch" href="/network-contracts/assets/js/38.254dafb8.js"><link rel="prefetch" href="/network-contracts/assets/js/39.6803e9a0.js"><link rel="prefetch" href="/network-contracts/assets/js/4.344717be.js"><link rel="prefetch" href="/network-contracts/assets/js/40.1c61e7d4.js"><link rel="prefetch" href="/network-contracts/assets/js/41.21676a98.js"><link rel="prefetch" href="/network-contracts/assets/js/42.280c4e20.js"><link rel="prefetch" href="/network-contracts/assets/js/43.118aface.js"><link rel="prefetch" href="/network-contracts/assets/js/44.de03f1d9.js"><link rel="prefetch" href="/network-contracts/assets/js/45.7ca3dbb3.js"><link rel="prefetch" href="/network-contracts/assets/js/46.cafa4c3e.js"><link rel="prefetch" href="/network-contracts/assets/js/47.f3cebf03.js"><link rel="prefetch" href="/network-contracts/assets/js/48.6b3b9785.js"><link rel="prefetch" href="/network-contracts/assets/js/49.77625728.js"><link rel="prefetch" href="/network-contracts/assets/js/5.be4723dc.js"><link rel="prefetch" href="/network-contracts/assets/js/50.97cb6565.js"><link rel="prefetch" href="/network-contracts/assets/js/51.8c4ea14d.js"><link rel="prefetch" href="/network-contracts/assets/js/6.c89030cc.js"><link rel="prefetch" href="/network-contracts/assets/js/7.4680987c.js"><link rel="prefetch" href="/network-contracts/assets/js/8.0940ac83.js"><link rel="prefetch" href="/network-contracts/assets/js/9.8f7e1582.js">
    <link rel="stylesheet" href="/network-contracts/assets/css/0.styles.aa64b011.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/network-contracts/" class="home-link router-link-active"><!----> <span class="site-name">SubQuery Network API</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="consumerhost"><a href="#consumerhost" class="header-anchor">#</a> ConsumerHost</h2> <h3 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h3> <p>The ConsumerHost contract store and track all registered Consumers.
Consumer can deposit and withdraw SQT.
Consumer can approve contract, and then don't have to sign for every payment.
Other contracts can verify the consumer and safeTransfer SQT.</p> <h3 id="consumer"><a href="#consumer" class="header-anchor">#</a> Consumer</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">struct</span> <span class="token class-name">Consumer</span> <span class="token punctuation">{</span>
  <span class="token builtin">uint256</span> balance<span class="token punctuation">;</span>
  <span class="token builtin">uint256</span> nonce<span class="token punctuation">;</span>
  <span class="token builtin">bool</span> approved<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="states"><a href="#states" class="header-anchor">#</a> STATES</h3> <h3 id="settings"><a href="#settings" class="header-anchor">#</a> settings</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> settings
</code></pre></div><h3 id="signers"><a href="#signers" class="header-anchor">#</a> signers</h3> <p>The Signer account address</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">address</span><span class="token punctuation">[</span><span class="token punctuation">]</span> signers
</code></pre></div><h3 id="signerindex"><a href="#signerindex" class="header-anchor">#</a> signerIndex</h3> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">uint256</span><span class="token punctuation">)</span> signerIndex
</code></pre></div><h3 id="fee"><a href="#fee" class="header-anchor">#</a> fee</h3> <p>The fee charged from consumer payment service</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">uint256</span> fee
</code></pre></div><h3 id="feepercentage"><a href="#feepercentage" class="header-anchor">#</a> feePercentage</h3> <p>The Percentage of FEE</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token builtin">uint256</span> feePercentage
</code></pre></div><h3 id="consumers"><a href="#consumers" class="header-anchor">#</a> consumers</h3> <p>Consumers info that hosting in this contract</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token keyword">struct</span> <span class="token class-name">ConsumerHost</span><span class="token punctuation">.</span>Consumer<span class="token punctuation">)</span> consumers
</code></pre></div><h3 id="channels"><a href="#channels" class="header-anchor">#</a> channels</h3> <p>StateChannels' belongs to consumer</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span> channels
</code></pre></div><h3 id="controllers"><a href="#controllers" class="header-anchor">#</a> controllers</h3> <p>controller account belongs to consumer</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">mapping</span><span class="token punctuation">(</span><span class="token builtin">address</span> <span class="token operator">=&gt;</span> <span class="token builtin">address</span><span class="token punctuation">)</span> controllers
</code></pre></div><h3 id="events"><a href="#events" class="header-anchor">#</a> EVENTS</h3> <h3 id="approve"><a href="#approve" class="header-anchor">#</a> Approve</h3> <p>Emitted when consumer approve host to manager the balance.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">Approve</span><span class="token punctuation">(</span><span class="token builtin">address</span> consumer<span class="token punctuation">)</span>
</code></pre></div><h3 id="disapprove"><a href="#disapprove" class="header-anchor">#</a> Disapprove</h3> <p>Emitted when consumer disapprove.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">Disapprove</span><span class="token punctuation">(</span><span class="token builtin">address</span> consumer<span class="token punctuation">)</span>
</code></pre></div><h3 id="deposit"><a href="#deposit" class="header-anchor">#</a> Deposit</h3> <p>Emitted when consumer deposit.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">Deposit</span><span class="token punctuation">(</span><span class="token builtin">address</span> consumer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">uint256</span> balance<span class="token punctuation">)</span>
</code></pre></div><h3 id="withdraw"><a href="#withdraw" class="header-anchor">#</a> Withdraw</h3> <p>Emitted when consumer withdraw.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">Withdraw</span><span class="token punctuation">(</span><span class="token builtin">address</span> consumer<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">uint256</span> balance<span class="token punctuation">)</span>
</code></pre></div><h3 id="paid"><a href="#paid" class="header-anchor">#</a> Paid</h3> <p>Emitted when consumer pay for open a state channel</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">Paid</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> channelId<span class="token punctuation">,</span> <span class="token builtin">address</span> consumer<span class="token punctuation">,</span> <span class="token builtin">address</span> caller<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">uint256</span> balance<span class="token punctuation">,</span> <span class="token builtin">uint256</span> fee<span class="token punctuation">)</span>
</code></pre></div><h3 id="claimed"><a href="#claimed" class="header-anchor">#</a> Claimed</h3> <p>Emitted when consumer pay for open a state channel</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">Claimed</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> channelId<span class="token punctuation">,</span> <span class="token builtin">address</span> consumer<span class="token punctuation">,</span> <span class="token builtin">address</span> caller<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">uint256</span> balance<span class="token punctuation">)</span>
</code></pre></div><h3 id="setcontrolleraccount"><a href="#setcontrolleraccount" class="header-anchor">#</a> SetControllerAccount</h3> <p>Emitted when consumer set the controller account.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">SetControllerAccount</span><span class="token punctuation">(</span><span class="token builtin">address</span> consumer<span class="token punctuation">,</span> <span class="token builtin">address</span> controller<span class="token punctuation">)</span>
</code></pre></div><h3 id="removecontrolleraccount"><a href="#removecontrolleraccount" class="header-anchor">#</a> RemoveControllerAccount</h3> <p>Emitted when consumer remove the controller account.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">event</span> <span class="token function">RemoveControllerAccount</span><span class="token punctuation">(</span><span class="token builtin">address</span> consumer<span class="token punctuation">,</span> <span class="token builtin">address</span> controller<span class="token punctuation">)</span>
</code></pre></div><h3 id="functions"><a href="#functions" class="header-anchor">#</a> FUNCTIONS</h3> <h3 id="initialize"><a href="#initialize" class="header-anchor">#</a> initialize</h3> <p>Initialize the contract, setup the SQT, StateChannel, and feePercentage.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">initialize</span><span class="token punctuation">(</span><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> _settings<span class="token punctuation">,</span> <span class="token builtin">address</span> _sqt<span class="token punctuation">,</span> <span class="token builtin">address</span> _channel<span class="token punctuation">,</span> <span class="token builtin">uint256</span> _feePercentage<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>_settings</td> <td>contract ISettings</td> <td>Settings contract address</td></tr> <tr><td>_sqt</td> <td>address</td> <td></td></tr> <tr><td>_channel</td> <td>address</td> <td></td></tr> <tr><td>_feePercentage</td> <td>uint256</td> <td>fee percentage</td></tr></tbody></table> <h3 id="setsettings"><a href="#setsettings" class="header-anchor">#</a> setSettings</h3> <p>Update setting state.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setSettings</span><span class="token punctuation">(</span><span class="token keyword">contract</span> <span class="token class-name">ISettings</span> _settings<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>_settings</td> <td>contract ISettings</td> <td>ISettings contract</td></tr></tbody></table> <h3 id="setfeepercentage"><a href="#setfeepercentage" class="header-anchor">#</a> setFeePercentage</h3> <p>Update fee percentage</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setFeePercentage</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> _feePercentage<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>_feePercentage</td> <td>uint256</td> <td>fee percentage</td></tr></tbody></table> <h3 id="setcontrolleraccount-2"><a href="#setcontrolleraccount-2" class="header-anchor">#</a> setControllerAccount</h3> <p>consumer call to set the controller account, since consumer only allowed to set one controller account, we need to remove the previous controller account.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">setControllerAccount</span><span class="token punctuation">(</span><span class="token builtin">address</span> controller<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>controller</td> <td>address</td> <td>The address of controller account, consumer to set</td></tr></tbody></table> <h3 id="removecontrolleraccount-2"><a href="#removecontrolleraccount-2" class="header-anchor">#</a> removeControllerAccount</h3> <p>consumer call to remove the controller account.</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">removeControllerAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">public</span>
</code></pre></div><h3 id="collectfee"><a href="#collectfee" class="header-anchor">#</a> collectFee</h3> <p>Collect fee to account</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">collectFee</span><span class="token punctuation">(</span><span class="token builtin">address</span> account<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>account</td> <td>address</td> <td>the receiver</td></tr> <tr><td>amount</td> <td>uint256</td> <td>the amount</td></tr></tbody></table> <h3 id="getsigners"><a href="#getsigners" class="header-anchor">#</a> getSigners</h3> <p>Get contract signer</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">getSigners</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Return:  address[] -&gt; the signer account</p> <h3 id="addsigner"><a href="#addsigner" class="header-anchor">#</a> addSigner</h3> <p>Update contract signer</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">addSigner</span><span class="token punctuation">(</span><span class="token builtin">address</span> _signer<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>_signer</td> <td>address</td> <td>new signer account</td></tr></tbody></table> <h3 id="removesigner"><a href="#removesigner" class="header-anchor">#</a> removeSigner</h3> <p>Update contract signer</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">removeSigner</span><span class="token punctuation">(</span><span class="token builtin">address</span> _signer<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>_signer</td> <td>address</td> <td>new signer account</td></tr></tbody></table> <h3 id="issigner"><a href="#issigner" class="header-anchor">#</a> isSigner</h3> <p>check sender is signer</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">isSigner</span><span class="token punctuation">(</span><span class="token builtin">address</span> signer<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>signer</td> <td>address</td> <td>the checked address</td></tr></tbody></table> <h3 id="approve-2"><a href="#approve-2" class="header-anchor">#</a> approve</h3> <p>Approve host can use consumer balance</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">approve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="disapprove-2"><a href="#disapprove-2" class="header-anchor">#</a> disapprove</h3> <p>Disapprove host can use consumer balance</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">disapprove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><h3 id="deposit-2"><a href="#deposit-2" class="header-anchor">#</a> deposit</h3> <p>Deposit amount to hosting, consumer can choose approve or not</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">deposit</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">bool</span> isApprove<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>amount</td> <td>uint256</td> <td>the amount</td></tr> <tr><td>isApprove</td> <td>bool</td> <td></td></tr></tbody></table> <h3 id="withdraw-2"><a href="#withdraw-2" class="header-anchor">#</a> withdraw</h3> <p>Withdraw amount to the consumer(sender)</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">withdraw</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>amount</td> <td>uint256</td> <td>the amount</td></tr></tbody></table> <h3 id="paid-2"><a href="#paid-2" class="header-anchor">#</a> paid</h3> <p>Paied callback function, only support from StateChannel</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">paid</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> channelId<span class="token punctuation">,</span> <span class="token builtin">address</span> sender<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">,</span> <span class="token builtin">bytes</span> callback<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>channelId</td> <td>uint256</td> <td>the opened channel ID</td></tr> <tr><td>sender</td> <td>address</td> <td></td></tr> <tr><td>amount</td> <td>uint256</td> <td>the amount need to pay</td></tr> <tr><td>callback</td> <td>bytes</td> <td>the info include consumer and signature(if approve, no signature))</td></tr></tbody></table> <h3 id="claimed-2"><a href="#claimed-2" class="header-anchor">#</a> claimed</h3> <p>Claimed callback function, only support from StateChannel</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">claimed</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> channelId<span class="token punctuation">,</span> <span class="token builtin">uint256</span> amount<span class="token punctuation">)</span> <span class="token keyword">external</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>channelId</td> <td>uint256</td> <td>the finalized channel ID</td></tr> <tr><td>amount</td> <td>uint256</td> <td>the amount back to consumer</td></tr></tbody></table> <h3 id="checksign"><a href="#checksign" class="header-anchor">#</a> checkSign</h3> <p>check the signature from signer or valid consumer</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">checkSign</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> channelId<span class="token punctuation">,</span> <span class="token builtin">bytes32</span> payload<span class="token punctuation">,</span> <span class="token builtin">bytes</span> sign<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>channelId</td> <td>uint256</td> <td>the finalized channel ID</td></tr> <tr><td>payload</td> <td>bytes32</td> <td>the message signed by sender</td></tr> <tr><td>sign</td> <td>bytes</td> <td>the signature</td></tr></tbody></table> <p>Return:  bool -&gt; Result of check</p> <h3 id="checksender"><a href="#checksender" class="header-anchor">#</a> checkSender</h3> <p>check the sender is from signer or valid consumer</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">checkSender</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> channelId<span class="token punctuation">,</span> <span class="token builtin">address</span> sender<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>channelId</td> <td>uint256</td> <td>the finalized channel ID</td></tr> <tr><td>sender</td> <td>address</td> <td>the sender need to check</td></tr></tbody></table> <p>Return:  bool -&gt; Result of check</p> <h3 id="channelconsumer"><a href="#channelconsumer" class="header-anchor">#</a> channelConsumer</h3> <p>return the consumer of a channel</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">channelConsumer</span><span class="token punctuation">(</span><span class="token builtin">uint256</span> channelId<span class="token punctuation">)</span> <span class="token keyword">external</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>channelId</td> <td>uint256</td> <td>the finalized channel ID</td></tr></tbody></table> <p>Return:  address -&gt; Result of addresses</p> <h3 id="supportsinterface"><a href="#supportsinterface" class="header-anchor">#</a> supportsInterface</h3> <p>Check ERC165 interface</p> <div class="language-solidity extra-class"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">supportsInterface</span><span class="token punctuation">(</span><span class="token builtin">bytes4</span> interfaceId<span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">view</span> virtual <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>interfaceId</td> <td>bytes4</td> <td>interface ID</td></tr></tbody></table> <p>Return:  bool -&gt; Result of support or not</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/network-contracts/assets/js/app.87a047ab.js" defer></script><script src="/network-contracts/assets/js/2.27a40bc7.js" defer></script><script src="/network-contracts/assets/js/13.65bbe297.js" defer></script>
  </body>
</html>
